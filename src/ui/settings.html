<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<!-- Only way to get Sentry working was by adding "http:" to CSP -->
		<meta http-equiv="Content-Security-Policy" content="default-src 'self' data:; script-src 'self'; connect-src *.sentry.io http:;">
		<meta http-equiv="X-Content-Security-Policy" content="default-src 'self' data:; script-src 'self'; connect-src *.sentry.io http:;">
		<title>Framed Settings</title>
		<link rel="stylesheet" href="css/dark-theme.css">
		<link rel="stylesheet" href="css/settings.css">
		<link rel="stylesheet" href="css/fontawesome/css/all.min.css">
	</head>
	<body>
		<div class="main">
			<h1>Settings</h1>
			<div id="streamingSoftwareSetting">
				<span>
					<input type="radio" id="streamingSoftwareStreamlabs" name="streamingSoftware" value="streamlabs" required>
					<label for="streamingSoftwareStreamlabs">Streamlabs</label>
				</span>
				<span>
					<input type="radio" id="streamingSoftwareOBS" name="streamingSoftware" value="obs" required>
					<label for="streamingSoftwareOBS">OBS</label>
				</span>
			</div>
			<div id="streamlabsSettings">
				<div>To get your token, open Streamlabs OBS and head to the settings. Then click on "Remote Control", reveal the QR code, and click "Show details".</div>
				<div>Token: <input id="tokenInputSL" size="40" required></div>
				<div>Port: <input id="portInputSL" required></div>
			</div>
			<div id="obsSettings">
				<div>You will need to install <a href="https://github.com/obsproject/obs-websocket/releases/tag/4.9.1">obs-websocket v4.9.1</a>. Set a password by opening OBS and clicking on "WebSockets Server Settings" under the "Tools" menu. Enter the same password here.</div>
				<div>Password: <input id="tokenInputOBS" size="40" required></div>
				<div>Port: <input id="portInputOBS" required></div>
			</div>
			<hr>
			<h2>Mobile App</h2>
			<div>Scan the below QR code in the mobile app when asked. This is to ensure the between the mobile and desktop apps are secure. You can download the app on <a href="https://play.google.com/store/apps/details?id=dev.truewinter.framed">Google Play</a>.</div>
			<div id="fingerprintQR"></div>
			<div>Alternatively, enter this code: <code id="fingerprintCode"></code></div>
			<hr>
			<h2>Analytics</h2>
			<div>In the event of an app crash, data about the crash (such as your last actions leading up to the crash) are sent to Sentry, a crash reporting platform. No personally identifiable information is sent.</div>
			<div class="pad"></div>
			<div>Enable Analytics: <input type="checkbox" id="enableAnalytics"></div>
			<hr>
			<h2>Advanced Settings</h2>
			<div>Unless a Framed developer has instructed you to, please do not change any settings below.</div>
			<div class="pad"></div>
			<div>Disable Hardware Acceleration: <input type="checkbox" id="disableHardwareAcceleration"></div>
			<div>You will need to restart Framed for changes to hardware acceleration to take effect.</div>
			<div class="pad"></div>
			<div>Websocket IP: <input id="ipInput" required></div>
		</div>
		<div id="saveBtn">Save</div>

		<!-- Couldn't get it to work any other way -->
		<script src="../../node_modules/@sentry/browser/build/bundle.js"></script>
		<script src="js/renderer/additional/sentry.js"></script>

		<script src="js/renderer/settings.js"></script>
	</body>
</html>